#     _         _                        _   _                 
#    / \  _   _| |_ ___  _ __ ___   __ _| |_(_) ___  _ __  ___ 
#   / _ \| | | | __/ _ \| '_ ` _ \ / _` | __| |/ _ \| '_ \/ __|
#  / ___ \ |_| | || (_) | | | | | | (_| | |_| | (_) | | | \__ \
# /_/   \_\__,_|\__\___/|_| |_| |_|\__,_|\__|_|\___/|_| |_|___/

# Refresh Google Assistant
- alias: "Refresh Google Assistant"
  hide_entity: true
  trigger:
    platform: homeassistant
    event: start
  action:
    service: google_assistant.request_sync
    data:
      agent_user_id: !secret google_agent_id

- alias: Log Level
  initial_state: false
  trigger:
    platform: state
    entity_id: input_select.log_level
  action:
    service: logger.set_level
    data_template:
      homeassistant.components: "{{ trigger.to_state.state }}"

# Notify me about updates
- alias: "Home Assistant Update"
  initial_state: True
  trigger:
    - platform: state
      entity_id: updater.updater
  action:
    service: notify.mobile_app_jesse_s_pixel_3
    data:
      message: "New version {{ states.updater.updater.state }} of Home Assistant is available."


# Delete old Images from Motion
- alias: 'Cleanup Motion Images'
  trigger:
    - platform: time
      at: '1:00:00'
  action:
    service: shell_command.cleanup_motion_images